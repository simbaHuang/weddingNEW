(function($){$.mergeObjs=function(){var obj1=arguments[0];for(var i=1;i<arguments.length;i++){for(var j in arguments[i]){obj1[j]=arguments[i][j]}}};$.fn.limit=function(num){var objString=$(this).text();var objSize=objString.length;if(objSize>num){$(this).attr("title",objString);objString=$(this).text(objString.substring(0,num)+"...")}};$.each($("*[e-fun = limit]"),function(i){$("*[e-fun = limit]").eq(i).limit($("*[e-fun = limit]").eq(i).attr("e-num"))});$.fn.getTime=function(format,putType,isTime){var _this=$(this);var nowDate=new Date;var year=nowDate.getFullYear(),month=nowDate.getMonth()+1,day=nowDate.getDate(),week=nowDate.getDay(),hour=nowDate.getHours(),minute=nowDate.getMinutes(),second=nowDate.getSeconds(),week_ch="";switch(week){case 0:week_ch="日";break;case 1:week_ch="一";break;case 2:week_ch="二";break;case 3:week_ch="三";break;case 4:week_ch="四";break;case 5:week_ch="五";break;case 6:week_ch="六";break}if(hour<10){hour="0"+hour}if(minute<10){minute="0"+minute}if(second<10){second="0"+second}if(!format){format=1}if(!isTime){isTime="true"}if(!putType){if(isTime=="true"){switch(parseInt(format)){case 0:_this.html(year+"."+month+"."+day+" "+hour+":"+minute+":"+second);break;case 1:_this.html(year+"年"+month+"月"+day+"日"+" "+hour+":"+minute+":"+second);break;case 2:_this.html(year+"-"+month+"-"+day+" "+hour+":"+minute+":"+second);break;case 3:_this.html(year+"/"+month+"/"+day+" "+hour+":"+minute+":"+second);break}}else{if(isTime=="false"){switch(parseInt(format)){case 0:_this.html(year+"."+month+"."+day);break;case 1:_this.html(year+"年"+month+"月"+day+"日");break;case 2:_this.html(year+"-"+month+"-"+day);break;case 3:_this.html(year+"/"+month+"/"+day);break}}}}else{if(isTime=="true"){switch(parseInt(format)){case 0:_this.val(year+"."+month+"."+day+" "+hour+":"+minute+":"+second);break;case 1:_this.val(year+"年"+month+"月"+day+"日"+" "+hour+":"+minute+":"+second);break;case 2:_this.val(year+"-"+month+"-"+day+" "+hour+":"+minute+":"+second);break;case 3:_this.val(year+"/"+month+"/"+day+" "+hour+":"+minute+":"+second);break}}else{if(isTime=="false"){switch(parseInt(format)){case 0:_this.val(year+"."+month+"."+day);break;case 1:_this.val(year+"年"+month+"月"+day+"日");break;case 2:_this.val(year+"-"+month+"-"+day);break;case 3:_this.val(year+"/"+month+"/"+day);break}}}}};$.each($("*[e-fun = time]"),function(i){var format=$("*[e-fun = time]").eq(i).attr("e-format"),isTime=$("*[e-fun = time]").eq(i).attr("e-isTime");if($("*[e-fun = time]").eq(i).is("input")){$("*[e-fun = time]").eq(i).getTime(format,"input",isTime)}else{$("*[e-fun = time]").eq(i).getTime(format,"",isTime)}});$.fn.tab=function(options){options=$.extend({num:0,ent:"click",choo:"choo",},options||{});var ths=this;ths.find("*[e-tab-nav]").hide();ths.find("*[e-tab-nav]").eq(options.num).show();ths.find("*[e-tab-for]").eq(options.num).addClass(options.choo);ths.on(options.ent,"*[e-tab-for]",function(){var thisFor=$(this).attr("e-tab-for");ths.find("*[e-tab-for]").removeClass(options.choo);$(this).addClass(options.choo);ths.find("*[e-tab-nav]").hide();$("*[e-tab-nav ="+thisFor+"]").show()})};$.each($("*[e-fun = tab]"),function(i){var num=$("*[e-fun = tab]").eq(i).attr("e-index"),ent=$("*[e-fun = tab]").eq(i).attr("e-event"),choo=$("*[e-fun = tab]").eq(i).attr("e-class");$("*[e-fun = tab]").eq(i).tab({num:num,ent:ent,choo:choo})});$.GetRequest=function(){var url=location.search;var theRequest=new Object();if(url.indexOf("?")!=-1){var str=url.substr(1);strs=str.split("&");for(var i=0;i<strs.length;i++){theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1])}}return theRequest};var RequestQueryString=new Object();RequestQueryString=$.GetRequest();$.colsewindow=function(){window.opener=null;window.open("","_self");window.close()};$.each($("*[e-fun = closeWin]"),function(i){$("*[e-fun = closeWin]").eq(i).click(function(){$.colsewindow()})});$.fn.dropBox=function(options){options=$.extend({tapType:"click",n:0,ntype:"name",speed:200,},options||{});var ths=this;for(var i=0,len=ths.find("ul li").length;i<len;i++){ths.find("ul li").eq(i).prop("value",options.n);options.n++}ths.on(options.tapType,function(){ths.find("ul").stop().slideToggle(options.speed)}).on("click","li",function(){var _this=$(this),thsText=_this.text(),thsVal=_this.prop("value");ths.find("input").val(thsText).prop("name",thsVal)});$(document).on(options.tapType,function(event){var eo=$(event.target);if(ths.find("ul").is(":visible")&&eo.parents("[e-fun]").attr("e-fun")!="dropBox"){ths.find("ul").stop().slideUp(options.speed)}})};$.each($("*[e-fun = dropBox]"),function(i){var n=$("*[e-fun = dropBox]").eq(i).attr("e-val");var type=$("*[e-fun = dropBox]").eq(i).attr("e-type");var speed=$("*[e-fun = dropBox]").eq(i).attr("e-speed");var tapType=$("*[e-fun = dropBox]").eq(i).attr("e-tap-type");$("*[e-fun = dropBox]").eq(i).dropBox({n:n,ntype:type,speed:speed,tapType:tapType})});$.fn.pop=function(opts){opts=$.extend({tapType:"click",popFor:"e-pop",},opts||{});var ths=this;ths.on("click",function(){$("*[e-pop-box="+opts.popFor+"],*[e-pop-bg]").show()
});$("*[e-pop-close]").on("click",function(){var thisFor=$(this).attr("e-pop-close");$("*[e-pop-box="+thisFor+"],*[e-pop-bg]").hide()})};$.each($("*[e-pop-for]"),function(i){var popFor=$("*[e-pop-for]").eq(i).attr("e-pop-for");var tapType=$("*[e-pop-for]").eq(i).attr("e-tap-type");$("*[e-pop-for]").eq(i).pop({popFor:popFor,tapType:tapType})});$.fn.check=function(opts){opts=$.extend({tapType:"click",checkSrc:"./images/e-check.png",checkedSrc:"./images/e-checked.png",},opts||{});var ths=this;var $checkAll=ths.find("*[e-check-all]");var $checkOne=ths.find("*[e-check-one]");$checkAll.on(opts.tapType,function(){var thischeck=$(this).attr("e-check")==0?1:0;$(this).attr("e-check",thischeck);$checkOne.attr("e-check",thischeck);checkSrcChange(thischeck,ths.find("*[e-check]"))});$checkOne.on(opts.tapType,function(){var thischeck=$(this).attr("e-check")==0?1:0;$(this).attr("e-check",thischeck);checkSrcChange(thischeck,$(this));var checkOne=$checkOne.size();var checkedOne=ths.find("*[e-check-one][e-check=1]").size();if(checkOne==checkedOne){$checkAll.attr("e-check",1);checkSrcChange(1,$checkAll)}else{$checkAll.attr("e-check",0);checkSrcChange(0,$checkAll)}});var checkSrcChange=function(check,obj){if(check==1){obj.find("img").attr("src",opts.checkedSrc)}else{obj.find("img").attr("src",opts.checkSrc)}}};$.each($("*[e-fun = check]"),function(i){var checkSrc=$("*[e-fun = check]").eq(i).attr("e-check-src");var checkedSrc=$("*[e-fun = check]").eq(i).attr("e-checked-src");var tapType=$("*[e-fun = check]").eq(i).attr("e-tap-type");$("*[e-fun = check]").eq(i).check({checkSrc:checkSrc,checkedSrc:checkedSrc,tapType:tapType})});$.fn.radius=function(opts){opts=$.extend({tapType:"click",radiusSrc:"./images/e-radius.png",radiusedSrc:"./images/e-radiused.png",},opts||{});var ths=this;var $radius=ths.find("*[e-radius]");$radius.on(opts.tapType,function(){ths.find("*[e-check]").attr("e-check",0);var thischeck=$(this).attr("e-check")==0?1:0;$(this).attr("e-check",thischeck);radiusSrcChange(0,ths.find("*[e-check]"));radiusSrcChange(thischeck,$(this))});var radiusSrcChange=function(check,obj){if(check==1){obj.find("img").attr("src",opts.radiusedSrc)}else{obj.find("img").attr("src",opts.radiusSrc)}}};$.each($("*[e-fun = radius]"),function(i){var radiusSrc=$("*[e-fun = radius]").eq(i).attr("e-radius-src");var radiusedSrc=$("*[e-fun = radius]").eq(i).attr("e-radius-src");var tapType=$("*[e-fun = radius]").eq(i).attr("e-tap-type");$("*[e-fun = radius]").eq(i).radius({radiusSrc:radiusSrc,radiusedSrc:radiusedSrc,tapType:tapType})});$.fn.anchor=function(opts){opts=$.extend({tapType:"click",speed:500,minHeight:0,forID:null,},opts||{});var ths=this;ths.on(opts.tapType,function(){var h=0;if(opts.forID!=null){h=getTop($("#"+opts.forID)[0])}else{h=0}$(this).siblings().removeClass("choo");$(this).addClass("choo");$("html,body").animate({scrollTop:h},opts.speed)});$(window).scroll(function(){var s=$(window).scrollTop();if(s>=opts.minHeight){ths.fadeIn(100)}else{ths.fadeOut(200)}})};$.fn.styleConversion=function(){var ths=$(this);var date=ths.attr("e-style");var dateJosn=eval("("+date+")");return dateJosn};$.each($("*[e-fun = anchor]"),function(i){var date=$("*[e-fun = anchor]").eq(i).styleConversion();$("*[e-fun = anchor]").eq(i).anchor(date)});function getTop(e){var ths=this;var offset=e.offsetTop;if(e.offsetParent!=null){offset+=getTop(e.offsetParent)}return offset}})(jQuery);